<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>canvasで図形を描く</title>

<script type="text/javascript">
<!--
var R=[];
var X=[];
var Y=[];

function rot(from,to) {
	X[to]=750+(750-Y[from]);
	Y[to]=750-(750-X[from]);
}
function sample() {
	//描画コンテキストの取得
	var canvas = document.getElementById('sample1');
	var context = canvas.getContext('2d');

	for(i=0;i<=100;i++) R.push(i);
	for(i=0;i<=100;i++) X.push(0);
	for(i=0;i<=100;i++) Y.push(0);
	
	ox=0,oy=750;id=100+4;
	id-=4; X[id]=ox+id, Y[id]=oy; for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy-(100+96);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy+(100+92);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy+(100+92)+(92+88);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy-(100+96)-(96+84);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy-(100+96)-(96+84)-(84+80);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy+(100+92)+(92+88)+(88+76);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	
	ox=200; id=72+4;
	id-=4; X[id]=ox+id, Y[id]=oy; for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy-(72+68);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy+(72+64);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy+(72+64)+(64+60);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy-(72+68)-(68+56);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy-(72+68)-(68+56)-(56+52);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy+(72+64)+(64+60)+(60+48);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);

	ox=200+72*2; id=44+4;
	id-=4; X[id]=ox+id, Y[id]=oy; for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy-(44+40);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy+(44+36);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy+(44+36)+(36+32);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy-(44+40)-(40+32);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy-(44+40)-(40+32)-(32+28);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy+(44+36)+(36+32)+(32+24);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	
	ox=200+72*2+44*2; id=16+4;
	id-=4; X[id]=ox+id, Y[id]=oy; for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy-(16+12);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy+(16+8);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	id-=4; X[id]=ox+id, Y[id]=oy+(16+8)+(8+4);	for(i=1;i<=3;i++) rot(id-(i-1),id-i);
	
	context.lineWidth = 2;
	context.fillStyle = 'rgb(255,00,00)'; //塗りつぶしの色は赤
	for(i=0;i<R.length;i++) if(R[i]>0 && X[i]>0) {
		context.beginPath();
		context.arc(X[i],Y[i],R[i],0,Math.PI*2);
		context.stroke();
	}
	context.lineWidth = 1;
	context.strokeRect(200,200,1100,1100);
	context.strokeRect(344,344,812,812);
	context.strokeRect(432,432,636,636);
}
//-->
</script>

</head>
<body onLoad="sample()">
<h2>canvasで図形を描く</h2>
<canvas id="sample1" style="background-color:lightgray;" width=1500 height=1500>
図形を表示するには、canvasタグをサポートしたブラウザが必要です。
</canvas>
</body>
</html>